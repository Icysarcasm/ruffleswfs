<!DOCTYPE HTML>
<style>
    body {
        background-color: rgb(0, 0, 0);
        color: white;
        font-family: Arial, sans-serif;
    }

    button {
        background-color: #444;
        color: white;
        border: none;
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
        margin-top: 20px;
    }

    button:hover {
        background-color: #666;
    }
</style>

<html>
    <head>
        <meta charset='utf8'>
    </head>
    <body>
        <div id='ruffle'></div>
        <input type="file" id="fileInput" accept=".swf" style="display: none;" />
        <button id="uploadButton">Upload SWF File</button>
        <script>
            window.RufflePlayer = window.RufflePlayer || {};
            window.addEventListener("DOMContentLoaded", () => {
                let ruffle = window.RufflePlayer.newest();
                let player = ruffle.createPlayer();
                let container = document.getElementById("ruffle");
                container.appendChild(player);

                const fileInput = document.getElementById("fileInput");
                const uploadButton = document.getElementById("uploadButton");

                // Trigger file input dialog when the button is clicked
                uploadButton.addEventListener("click", () => {
                    fileInput.click();
                });

                fileInput.addEventListener("change", (event) => {
                    const file = event.target.files[0];
                    if (file) {
                        const objectURL = URL.createObjectURL(file);
                        player.load(objectURL);
                    }
                });
            });
        </script>
        <script src="https://unpkg.com/@ruffle-rs/ruffle"></script>
        <p>Fullscreen required, just right click.</p>
    </body>
</html>